"use strict";(self.webpackChunkqaproject=self.webpackChunkqaproject||[]).push([[874],{2874:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(5043),c=a(3216),o=a(5475),r=a(6209),s=a(7929),l=a(3910),i=a(497),d=a(579);const m=()=>{const{loginId:e}=(0,c.g)(),t=(0,c.zy)(),{fromDate:a,toDate:m}=t.state||{},[p,h]=(0,n.useState)([]),[x,u]=(0,n.useState)(0),[g,j]=(0,n.useState)(1),[b,f]=(0,n.useState)(!1),y=Math.ceil(x/10),v=new Date,w=a||v,N=m||v,S=[{dataField:"id",text:"Sr. No."},{dataField:"eventType",text:"Event Type"},{dataField:"eventSubtype",text:"Event Subtype"},{dataField:"callDuration",text:"Call Duration"},{dataField:"reviewStatus",text:"Review Status"},{dataField:"callType",text:"Call Type"},{dataField:"complianceScore",text:"Compliance of SOP QA Score"},{dataField:"activeListeningScore",text:"Active Listening & proper response QA Score"},{dataField:"detailsCapturingScore",text:"Correct and relevant details capturing QA Score"},{dataField:"addressTaggingScore",text:"Correct Address tagging QA Score"},{dataField:"callHandledTime",text:"Call Handled Time QA time"}];(0,n.useEffect)((()=>{_(g,e,w,N)}),[e,w,N,g]);const C="https://jsonplaceholder.typicode.com/todos",_=async(e,t,a,n)=>{try{const c=await fetch("".concat(C,"?userId=").concat(t,"&fromDate=").concat(encodeURIComponent(a),"&toDate=").concat(encodeURIComponent(n))),o=((e,t)=>e.map(((e,a)=>({...e,id:a+1+10*(t-1),eventType:e.title,eventSubtype:"Subtype"+a,callDuration:"00:0"+a,reviewStatus:e.completed,callType:"Type",complianceScore:e.id,activeListeningScore:85+a,detailsCapturingScore:90+a,addressTaggingScore:95+a,callHandledTime:"00:1"+a}))))(await c.json(),e),r=o.slice(10*(e-1),10*e);h(r),u(o.length)}catch(c){console.error("Error fetching data:",c)}},F=async t=>{const a="".concat(C,"?userId=").concat(e,"&fromDate=").concat(encodeURIComponent(w),"&toDate=").concat(encodeURIComponent(N));console.log(a);try{f(!0),console.log("Export data URL:",a),console.log("Columns for export:",S),"pdf"===t?await(0,i.Q7)(a,S,"Detailed_report.pdf"):"excel"===t&&await(0,i.bJ)(a,S,"Detailed_report.xlsx")}catch(n){console.error("Error exporting ".concat(t,":"),n)}f(!1)},D=e=>new Date(e).toLocaleDateString("en-GB",{month:"long",day:"numeric",year:"numeric"});return(0,d.jsx)("div",{className:"main_content_iner overly_inner mt-5",children:(0,d.jsxs)("div",{className:"container-fluid p-0",children:[(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12",children:(0,d.jsx)("div",{className:"page_title_box d-flex align-items-center justify-content-between",children:(0,d.jsxs)("div",{className:"page_title_left",children:[(0,d.jsx)("h3",{className:"f_s_30 f_w_700 text_white",children:"SCO Detail Report"}),(0,d.jsxs)("ol",{className:"breadcrumb page_bradcam mb-0",children:[(0,d.jsx)("li",{className:"breadcrumb-item",children:(0,d.jsx)(o.N_,{to:"/dashboard",children:"Performance Report"})}),(0,d.jsx)("li",{className:"breadcrumb-item active",children:(0,d.jsx)(o.N_,{to:"#",children:"SCO Performance Report"})}),(0,d.jsx)("li",{className:"breadcrumb-item active",children:(0,d.jsx)(o.N_,{to:"#",children:"SCO Detailed Report"})})]})]})})})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 card_height_100",children:(0,d.jsxs)("div",{className:"white_card mb_20",children:[(0,d.jsxs)("div",{className:"row mb-3 justify-content-end mr-5",children:[(0,d.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6 mt-4 ml-5 mt-5",children:(0,d.jsx)("h3",{children:(0,d.jsxs)("b",{children:["SCO-",e," Details Report from"," ",D(w)," -"," ",D(N)]})})}),(0,d.jsxs)("div",{className:"col-lg-3 col-md-6 col-sm-6 mt-4 ml-auto",children:[(0,d.jsxs)("button",{className:"btn btn-primary mt-3","data-toggle":"tooltip","data-placement":"top",title:"Back to Previous Page",onClick:i.OE,children:[" ",(0,d.jsx)(l.FontAwesomeIcon,{icon:s.faArrowLeft})," "]})," ","\u2002",(0,d.jsx)("button",{className:"btn mt-3",style:{backgroundColor:"#e91e63",color:"#fff",width:"30%"},onClick:()=>F("pdf"),disabled:b,children:b?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Loading..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.FontAwesomeIcon,{icon:s.faDownload})," PDF"]})})," ","\u2002",(0,d.jsx)("button",{className:"btn mt-3",style:{backgroundColor:"#1e88e5",color:"#fff",width:"30%"},variant:"success",onClick:()=>F("excel"),disabled:b,children:b?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Loading..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.FontAwesomeIcon,{icon:s.faDownload})," Excel"]})})]})]}),(0,d.jsx)("div",{className:"table-responsive ml-5",children:(0,d.jsx)(r.A,{keyField:"id",data:p,columns:S,striped:!0,hover:!0,condensed:!0})})]})})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12",children:(0,d.jsxs)("ul",{id:"page-numbers",className:"justify-content-end pagination mr-5",children:[(0,d.jsx)("li",{className:"page-item ".concat(1===g?"disabled":""),onClick:()=>{g>1&&j(g-1)},children:(0,d.jsx)("span",{children:"\xab"})}),Array.from({length:y},((e,t)=>{const a=g<=3?0:g-3;return t>=a&&t<(a+5>=y?y:a+5)?(0,d.jsx)("li",{className:"page-item ".concat(t+1===g?"active":""),onClick:()=>j(t+1),children:(0,d.jsx)("span",{children:t+1})},t+1):null})),(0,d.jsx)("li",{className:"page-item ".concat(g===y?"disabled":""),onClick:()=>{g<y&&j(g+1)},children:(0,d.jsx)("span",{children:"\xbb"})})]})})})]})})}},497:(e,t,a)=>{a.d(t,{OE:()=>m,Q7:()=>d,bJ:()=>i});var n=a(6213),c=a(7762),o=(a(557),a(64)),r=a.n(o),s=a(1238);const l=(e,t)=>Array.isArray(e)?Array.isArray(t)?e.map((e=>{const a={};return t.forEach((t=>{a[t.dataField]=e[t.dataField]||""})),a})):(r().fire({icon:"error",title:"Something Went Wrong",text:"There was an error. Please try again."}),[]):(r().fire({icon:"error",title:"Data Not Found",text:"There was an error to find the data. Please try again."}),[]),i=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"data.xlsx";try{const c=await n.A.get(e),o=l(c.data,t),r=s.Wp.json_to_sheet(o,{header:t.map((e=>e.dataField))}),i=s.Wp.book_new();s.Wp.book_append_sheet(i,r,"Sheet1");const d=s.M9(i,{bookType:"xlsx",type:"array"}),m=new Blob([d],{type:"application/octet-stream"}),p=document.createElement("a");p.href=URL.createObjectURL(m),p.download=a,document.body.appendChild(p),p.click(),document.body.removeChild(p)}catch(c){r().fire({icon:"error",title:"Not Exporting",text:"Error exporting Excel. Please try again."})}},d=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"data.pdf";try{const o=await n.A.get(e),r=l(o.data,t),s=new c.default,i=t.map((e=>e.text)),d=r.map((e=>t.map((t=>e[t.dataField]))));s.autoTable({head:[i],body:d}),s.save(a)}catch(o){}},m=()=>{window.history.back()}}}]);
//# sourceMappingURL=874.9e9ee9c3.chunk.js.map